{% extends "base.html" %}
{% block content %}
<div class="grid">
  <section class="panel" id="presence-island" data-island="presence">
    <div class="panel-title">Presence Stream (Island)</div>
    <div class="panel-body">
      <div class="island-status" data-role="status">Connecting...</div>
      <div class="island-log" data-role="log" aria-live="polite"></div>
      <div class="island-controls">
        <button class="button" data-role="pause">Pause</button>
        <button class="button" data-role="resume">Resume</button>
      </div>
    </div>
  </section>
  <section class="panel" id="presence-snapshots" hx-get="/fragments/snapshots" hx-trigger="load, every 60s" hx-swap="innerHTML">
    <div class="panel-title">Latest Snapshot</div>
    <div class="panel-body">Loading...</div>
  </section>
</div>
{% endblock %}
{% block islands %}
<script src="/static/js/presence_stream.js" type="module" defer></script>
{% endblock %}
